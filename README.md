
⛵ **`이번 챕터 목표**



- 시나리오가 요구하는 요구사항을 명확히 분석하기
- 유지보수, 확장 가능한 코드에 대해 끊임없이 고민하기
- 테스트 가능한 구조 및 테스트 코드 작성에 집중하기
- 견고하지만 유연한 서버 애플리케이션을 구축하기

<aside>
🚩 **What to do: 이번 챕터에 해야 할 것. 이것만 집중하세요!**

</aside>

```java
설계가 명확하면, "코드를 치는 행위" 는 목표를 달성하는 "수단" 이 된다.
설계가 명확하지 않으면, "코드를 치는 행위" 는 불필요한 "노동" 이 된다.
```

## 1. Service Scenario 선택

<aside>
💡 우리는 적절한 아키텍처 패턴, 클린 코드, 테스트 등을 준수하며 유지, 성장 가능한 애플리케이션을 만들어야 합니다.

</aside>


    <aside>
    ❓ 아키텍처와 테스트 코드 작성에 집중하며, 견고하고 유연한 서버 개발이 목표

[콘서트 예약 서비스]

[맛집 검색 서비스 (번외)]

[e-커머스 서비스 ]

---

## **2. 개발 환경 준비**

- **DB ORM**
    - **JPA** / MyBatis
    - **TypeORM / Prisma**
- **Test**
    - JUnit + AssertJ
    - Jest / Mocha

---

## **3. 시나리오 분석 및 작업 계획**


### 문제 정의

- 해결하고자 하는 것이 무엇인지 명확히 설명할 수 있어야 함
- 문제에 대한 **추상**적인/**구체**적인 접근을 할 수 있어야 함

<aside>
🔥문제를 뾰족하게 바라보는 연습을 많이 해야 한다.

</aside>

### 요구사항 분석

- **기능적** 요구사항 - 어떤 기능을 제공할 수 있어야 하는가?
- **비기능적** 요구사항 - 성능, 확장성, 보안 관련한 추가적인 고려사항들을 고려할 수 있어야 한다.

<aside>
🔋 범람하는 요구사항을 적절하게 분류, 정리할 수 있어야 한다.

</aside>

### 분석을 설계로 풀어내기

### 시퀀스 다이어그램

- **시스템 내에서 객체(또는 서비스)들이 어떻게 상호 작용하는지를 시간 순서대로 표현**하는 다이어그램
- 주로 **API 호출 흐름, 이벤트 처리 방식, 데이터 흐름을 설명할 때 사용**


### 클래스 다이어그램

- **시스템에서 사용되는 객체(Class)들의 구조와 관계를 표현하는 다이어그램**
- 주로 **도메인 모델링이나 엔티티 설계**에서 사용


### ERD ( Entity - Relationship Diagram )

- **데이터베이스의 테이블 간 관계를 표현하는 다이어그램**
- DB 설계 단계에서 **각 테이블(엔티티) 간의 관계를 시각적으로 정리하는 데 사용**



### 상태 다이어그램

- **객체 또는 프로세스가 특정 이벤트에 따라 상태가 어떻게 변하는지를 표현하는 다이어그램**
- 특정 기능의 **상태 전이(Transitions)를 설명할 때 사용**

### 설계 툴 추천

- [Online FlowChart & Diagrams Editor - Mermaid Live Editor](https://mermaid.live/edit#pako:eNplTz1OwzAUvkr0RuREieM4tgcWuAEbhMFqTFrR2JXrIEqUqQy9QMTAwhlQb0V6B9yGAlWf3vD96flzCxNTKhCwdNKp65msrKzDJ1zowM_dxX0QhpfB8LYdPvpRG_FB9vaZ9vW5GfrX4X09Or_07M6ps-u3u_VmdEZ8fAEQ1MrWclb6lu0-UYCbqloVIDwspX0soNCdz8nGmZuVnoBwtlEIrGmqKYgHOV961izKvy8eIwupb435T0G08AyCcBwlWRLHPKYx45wSBCsQSUqinGKKGWWUUJalHYKXw4U4ylLCSJ745QRTliOo7L72TxulS2WvTKMdCMy7bxn1hRQ)

- [Flowchart Maker & Online Diagram Software](https://app.diagrams.net/)

- [Excalidraw — Collaborative whiteboarding made easy](https://excalidraw.com/)
- **API 명세**
    - `Endpoint` - API 의 URL 및 기능을 설명할 수 있는 적절한 HTTP Method
    - `Request` - Param, Query, Body 등 API 호출 시 전달되어야 할 매개변수 및 데이터
    - `Response` - API 의 응답 코드, 데이터 등에 대한 명세 및 적절한 예제
    - `Error` - API 호출 중 발생할 수 있는 예외 케이스에 대해 명시
    - `Authorization` - API 호출을 할 수 있는 권한

---

## 4. API Spec Documentation

<aside>
💡 우리는 적절한 API 명세 문서를 노출하고 MockAPI 를 제공해 생산성을 증대시켜야 합니다.

</aside>

**Mock API 로 생산성 극대화**

- API Spec 을 정했다면, 최대한 빠르게 Mock API 를 작성해 배포해야 함
    - 우리는 혼자 일하는 게 아니다!
    - API Spec 이 정해졌다면, 그 API 를 활용하는 다른 동료 ( 프론트엔드, 다른 백엔드 팀 등 ) 이 Dummy 데이터로 시뮬레이션을 할 수 있어야 함.

<aside>
ℹ️ curl, http (intellij), postman 등으로 API 시뮬레이션을 할 수 있어야 합니다.

</aside>

**API 문서만 보고도 이해할 수 있게!**

- **OAS** (Open API Specification) , **AsyncAPI** (Pub/Sub API Describe) , ..
- API Documentation
    - `Open API Specification`  - json, yaml 기반의 REST API 문서화 표준
    - `Swagger UI` - OAS 를 Web UI 로 표현 가능하도록 지원

      → 라이브러리를 통해 프레임워크의 API 문서 생성 자동화 기능 지원

      → API 명세 및 API TEST 제공을 통해 보기 쉬운 문서 제공

      → API 버전 관리, 통합 API 문서 제공 등의 문서 관리 기능 제공

```yaml
// spring
implementation("org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.0")

// nest
npx nestia swagger
```



### **`STEP03 - 분석`**

- 시나리오 요구사항 분석 및 문서 작성 ( e.g. 시퀀스 다이어그램, ERD 등 )

### **`STEP04 - 실행`**

- Mock API 및 Swagger-API 코드 작성
- **(NiceToHave)** API E2E 테스트 작성해보기
<aside>

---

## 5. **과제 평가 기준과 핵심 역량 Summary**

</aside>

- 과제 평가 기준

  **[ STEP 3 - 분석 ]**

    - 시나리오 요구사항을 적절히 분석하고 필요한 다이어그램들을 통해 설계문서를 작성하였는지 ( 시퀀스 다이어그램, ERD 필수 )

      > 시퀀스 다이어그램 - **시스템 내/외 의 주요 기능상 흐름**을 포함하고 있어야 함
      ERD - 각 시나리오별 기능을 구성하는 **필수적인 데이터 모델들**은 포함하고 있어야 함
      그 외 - 자율
  >

  **[ STEP 4 - 실행 ]**

    - Mock API 및 Swagger API 가 작성되었는지
    - **(NiceToHave)** API E2E 테스트가 작성되었는지
- BestPractice 평가 기준

  ## STEP03, STEP04 백엔드 코스 공통 평가 항목

    - 명확한 요구사항 분석 및 문서화
    - 도메인 중심 설계 및 책임의 명확한 분리
    - ERD 및 데이터 모델링의 정확성 및 명확성

    ---

  ## STEP03 서버구축 분석과제 고유 평가 항목

    - 시퀀스 다이어그램의 핵심 로직 중심 간결성 유지
    - 시퀀스 다이어그램 내 예외 상황의 명확한 표현과 생략 여부 판단
    - 이벤트 스토밍, 유스케이스, 도메인 모델링 등 다양한 설계 방법의 활용
    - 대기열, 쿠폰 및 결제 도메인의 명확한 역할 정의 및 설계

    ---

  ## STEP04 서버구축 실행과제 고유 평가 항목

    - API Response의 일관된 구조 설계(status 등 포함 여부 명확화)
    - API E2E 테스트 작성 여부
- 핵심 키워드 및 역량

  **주제: 아키텍처 기반 시나리오 서버 애플리케이션 설계 및 구현**
    
  ---

  ## ✅ 분석 과제 (STEP 03)

  **선택한 서비스 시나리오에 대한 요구사항 분석 및 프로젝트 초기 설계**

  ### 🎯 과제 목표

  선택한 시나리오(e-커머스 / 맛집 검색 / 콘서트 예매 등)를 바탕으로, 서버 애플리케이션 개발 전 기획·분석 역량을 키웁니다.

  시퀀스 다이어그램, 플로우 차트 등을 통해 아키텍처 설계의 기초를 다집니다.

  ### 🛠️ 핵심 기술 키워드

    - 시스템 분석: 시퀀스 다이어그램 / 플로우 차트
    - 도메인 분석: 유스케이스 도출 / 서비스 흐름 정리
    - 협업 준비: 요구사항 명세화
    - 설계 사고력: 구조화된 문서 작성
    - ERD 설계 / 도메인 모델링

  ### 🧠 핵심 역량

  | 역량 | 설명 |
          | --- | --- |
  | **요구사항 해석 및 정제 능력** | 시나리오를 분석해 구체적인 기능 단위로 정리 |
  | **비즈니스 흐름 모델링** | 시퀀스 다이어그램, 플로우 차트를 통해 데이터 흐름 시각화 |
  | **시스템 사고력** | 전체 흐름을 고려한 구조적 설계의 기반 능력 |
    
  ---

  ## 🚀 실행 과제 (STEP 04)

  **API 명세 수립, 기본 서버 구조 및 Mock API 구현**

  ### 🎯 과제 목표

  도출한 요구사항을 바탕으로 ERD 설계, API 명세, 서버 기본 구조를 구현합니다.

  Mock API를 통해 실제 팀 협업 환경에서의 생산성과 API 중심 사고력을 강화합니다.

  ### 🛠️ 핵심 기술 키워드

    - RESTful API 명세 / 오류 설계
    - Mock API 구성 / 테스트 시뮬레이션
    - 서버 기본 패키지 구성 / Configuration
    - GitHub PR 템플릿 / 초기 세팅

  ### 🧠 핵심 역량

  | 역량 | 설명 |
          | --- | --- |
  | **API 중심 설계력** | API 명세 작성 및 프론트엔드와의 협업을 위한 문서화 |
  | **테스트 기반 개발 습관** | Mock API를 통한 시뮬레이션 기반 개발 경험 |
  | **구현 전 구조 설계 능력** | 서버 구조 및 설정을 직접 구성하며 개발 설계 역량 강화 |
    
  ---

  ### 🪜 요약

    - **STEP03 (기본과제)**에서는 시나리오 기반으로 시스템 흐름을 분석하고, 시퀀스 다이어그램 및 플로우 차트를 통해 **요구사항 분석 능력**과 **설계적 사고력**을 기를 수 있습니다.
    - **STEP04 (심화과제)**에서는 ERD 및 API 명세, 서버 구조 구현을 통해 **도메인 중심 개발 역량**, **협업 준비도**, **Mock 기반 테스트 설계력**을 강화할 수 있습니다.


### FAQ

- TDD 가 아닌 DDD 로 개발하는 것은 안될까요 ?
  - A : DDD 와 TDD 는 같은 범주로 묶이는 개발론이 아닙니다. DDD 는 기존 DB 테이블 중심적으로 설계하고, 서비스를 구성하는 방식보다 요구사항에 대해 도메인을 명확히 분석하고, 도메인이 주체가 되도록 기능을 개발하는 방식을 의미합니다. 즉, 설계론적인 의미에서 더 많은 이점을 찾고자 하는 개발론이죠. TDD 는 개발하는 방식을 테스트적인 관점에서 바라보는 방법론입니다. 이에 DDD 로 개발할 때는 각 도메인의 컨텍스트를 보다 명확하게 정의하고, 기능을 단순화하고 정확하게 표현할 수 있어야 합니다.
  - A : 위에 설명한 바처럼 오히려 DDD 기반의 설계와 구현에 대해 익숙하고 잘 정의되어 있다면 TDD 방법론을 이용해 개발을 진행하기에 오히려 적합한 구조를 갖출 수 있다고 생각해요. TDD 는 각 기능에 대해 작은 단위로 구성하고 Unit Test 부터 잘 작성해나가며 빠른 주기로 개발/테스트/리팩토링을 반복해나가며 기능을 완성해나가는 방식인데, 도메인이 잘 정의되어 있고 기능에 대한 책임이 명확히 나뉘어져 있다면 더 빠른 개발을 진행할 수 있습니다.

- 위 서비스 3개를 선정한 기준이 어떻게 되나요?
  - A : 기존 기수에서는 팀프로젝트에 집중해 규모 있는 시나리오 기반의 큰 프로젝트를 같이 설계하고 테스트 코드, 팀 컨벤션 등 다양한 역량을 기르도록 하는 것이 목표였습니다. 하지만 기능이 다양해지고 많아지다보니 각자가 경험해보고 쌓을 수 있는 역량이 팀원별로 상이해지는 부분들이 있었고, 단순 구현 보다는 이번 챕터에서 백엔드 개발자로서 쌓아야 할 역량에 대한 집중도가 다소 떨어지는 경향을 확인했습니다.
  - A : 이에 개개인의 역량 집중 뿐만 아니라, 팀 내에서 서로 다른 생각과 접근 등을 공유하고 피드백할 수 있는 환경을 만들어 더 많은 인사이트를 가져갈 수 있는 방향성으로 시나리오를 전면 재설계 하였습니다.